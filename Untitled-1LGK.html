// Добавление в localStorage
function addToCart(name, price, image) {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.push({ name, price, image });
  localStorage.setItem('cart', JSON.stringify(cart));
  alert('Товар добавлен в корзину!');
}

// Отображение на странице cart.html
document.addEventListener('DOMContentLoaded', () => {
  const container = document.getElementById('cart-items');
  if (!container) return;

  const cart = JSON.parse(localStorage.getItem('cart')) || [];

  if (cart.length === 0) {
    container.innerHTML = "<p class='text-center text-gray-500'>Корзина пуста</p>";
    return;
  }

  let total = 0;

  cart.forEach(item => {
    total += item.price;

    const div = document.createElement('div');
    div.className = "bg-white p-4 mb-4 rounded-xl shadow";
    div.innerHTML = `
      <img src="${item.image}" alt="${item.name}" class="w-full rounded mb-2">
      <h3 class="text-lg font-semibold">${item.name}</h3>
      <p class="text-green-600 font-bold mb-2">${item.price.toLocaleString()} ₽</p>
    `;
    container.appendChild(div);
  });

  const totalDiv = document.createElement('div');
  totalDiv.className = "text-right text-xl font-bold mt-4";
  totalDiv.textContent = `Итого: ${total.toLocaleString()} ₽`;
  container.appendChild(totalDiv);
});
