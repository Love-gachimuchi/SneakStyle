<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>SneakStyle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .page { display: none; }
    .page.active { display: block; }
  </style>
</head>
<body class="bg-gray-100 pb-24 font-sans">

  <!-- –ì–ª–∞–≤–Ω–∞—è -->
  <div id="mainPage" class="page active">
    <header class="p-4 bg-gradient-to-r from-black via-gray-900 to-gray-800 text-white flex justify-between items-center shadow-md">
      <h1 class="text-2xl font-extrabold tracking-tight">SneakStyle</h1>
      <button onclick="showPage('cartPage'); loadCart()" class="text-white text-2xl hover:scale-110 transition">üõí</button>
    </header>

    <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä -->
    <div class="p-4 flex flex-col sm:flex-row gap-3">
      <input id="searchInput" oninput="renderProducts()" type="text" placeholder="–ü–æ–∏—Å–∫" class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-black w-full sm:w-1/3" />
      <input id="minPrice" oninput="renderProducts()" type="number" placeholder="–ú–∏–Ω —Ü–µ–Ω–∞" class="p-3 rounded-lg border border-gray-300 w-full sm:w-1/6" />
      <input id="maxPrice" oninput="renderProducts()" type="number" placeholder="–ú–∞–∫—Å —Ü–µ–Ω–∞" class="p-3 rounded-lg border border-gray-300 w-full sm:w-1/6" />
    </div>

    <!-- –¢–æ–≤–∞—Ä—ã -->
    <div class="p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6" id="product-list"></div>
  </div>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ -->
  <div id="productPage" class="page">
    <header class="p-4 bg-white shadow flex justify-between items-center">
      <button onclick="showPage('mainPage')" class="text-blue-600 underline">‚Üê –ù–∞–∑–∞–¥</button>
      <h2 class="text-lg font-bold">–¢–æ–≤–∞—Ä</h2>
    </header>
    <div id="productDetails" class="p-4"></div>
  </div>

  <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
  <div id="cartPage" class="page">
    <header class="p-4 bg-white shadow flex justify-between items-center">
      <h2 class="text-xl font-bold">–ö–æ—Ä–∑–∏–Ω–∞</h2>
      <button onclick="showPage('mainPage')" class="text-blue-500 underline">‚Üê –ù–∞–∑–∞–¥</button>
    </header>
    <section class="p-4" id="cart-items"></section>
  </div>

  <!-- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ -->
  <div id="checkoutPage" class="page">
    <header class="p-4 bg-white shadow flex justify-between items-center">
      <h2 class="text-xl font-bold">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
      <button onclick="showPage('cartPage')" class="text-blue-500 underline">‚Üê –ù–∞–∑–∞–¥</button>
    </header>
    <div class="p-4 space-y-4">
      <p class="text-lg">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</p>
      <button onclick="confirmOrder('–¢–∏–Ω—å–∫–æ—Ñ—Ñ')" class="w-full bg-yellow-400 hover:bg-yellow-300 text-black font-bold py-3 rounded-xl transition">–û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –¢–∏–Ω—å–∫–æ—Ñ—Ñ</button>
      <button onclick="confirmOrder('–°–ë–ü')" class="w-full bg-green-500 hover:bg-green-400 text-white font-bold py-3 rounded-xl transition">–û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –°–ë–ü</button>
    </div>
  </div>

  <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
  <div id="confirmationPage" class="page text-center p-8">
    <h2 class="text-2xl font-bold mb-4">–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! üéâ</h2>
    <p id="orderMessage" class="text-lg mb-6"></p>
    <button onclick="clearCartAndReturn()" class="bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
  </div>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="fixed bottom-0 left-0 right-0 bg-white border-t p-3 flex justify-around text-xs sm:text-sm text-gray-700 shadow-inner">
    <button onclick="showPage('mainPage')" class="text-center hover:text-black transition">üè†<p>–ì–ª–∞–≤–Ω–∞—è</p></button>
    <button onclick="showPage('cartPage'); loadCart()" class="text-center hover:text-black transition">üõí<p>–ö–æ—Ä–∑–∏–Ω–∞</p></button>
  </nav>

  <script>
    const products = [
      {
        name: "NIKE Air Force 1 '07",
        price: 24999,
        image: "photo_2025-04-13_15-07-30.jpg",
        description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ NIKE Air Force 1 –≤ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–º –¥–∏–∑–∞–π–Ω–µ. –í–µ—Ä—Ö –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–π –∫–æ–∂–∏, —Ä–µ–∑–∏–Ω–æ–≤–∞—è –ø–æ–¥–æ—à–≤–∞ –∏ –∫—É–ª—å—Ç–æ–≤—ã–π —Å—Ç–∏–ª—å 80-—Ö.",
      },
      {
        name: "Nike Air Max 90",
        price: 19990,
        image: "https://via.placeholder.com/400x300?text=AirMax",
        description: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è –º–æ–¥–µ–ª—å —Å –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–µ–π Air. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–º—Ñ–æ—Ä—Ç –∏ –≤–∏–Ω—Ç–∞–∂–Ω—ã–π —Å—Ç–∏–ª—å –≤ –æ–¥–Ω–æ–º.",
      },
      {
        name: "Air Jordan 1 Retro",
        price: 29990,
        image: "https://via.placeholder.com/400x300?text=Jordan",
        description: "–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫—É–ª—å—Ç–æ–≤—ã—Ö Jordan 1. –í–µ—Ä—Ö –∏–∑ –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–π –∫–æ–∂–∏, –æ—Ç–ª–∏—á–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞ –∏ –¥–µ—Ä–∑–∫–∏–π —Å—Ç–∏–ª—å.",
      },
    ];

    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function renderProducts() {
      const search = document.getElementById("searchInput").value.toLowerCase();
      const min = parseInt(document.getElementById("minPrice").value) || 0;
      const max = parseInt(document.getElementById("maxPrice").value) || Infinity;
      const container = document.getElementById("product-list");
      container.innerHTML = "";

      products.filter(p =>
        p.name.toLowerCase().includes(search) &&
        p.price >= min && p.price <= max
      ).forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "bg-white rounded-2xl p-4 shadow-md hover:shadow-xl transition duration-300 cursor-pointer hover:scale-[1.02]";
        div.onclick = () => showProduct(i);
        div.innerHTML = `
          <img src="${p.image}" class="rounded-xl w-full h-48 object-cover mb-3">
          <p class="font-semibold text-base mb-1">${p.name}</p>
          <p class="text-green-600 font-bold text-lg">${p.price.toLocaleString()} ‚ÇΩ</p>
        `;
        container.appendChild(div);
      });
    }

    function showProduct(index) {
      const p = products[index];
      const page = document.getElementById("productDetails");
      page.innerHTML = `
        <img src="${p.image}" class="rounded-xl w-full h-64 object-cover mb-4" />
        <h2 class="text-xl font-bold">${p.name}</h2>
        <p class="text-green-600 font-bold text-lg mb-2">${p.price.toLocaleString()} ‚ÇΩ</p>
        <p class="text-gray-700 mb-4">${p.description}</p>
        <button onclick="addToCart('${p.name}', ${p.price}, '${p.image}')" class="bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
      `;
      showPage('productPage');
    }

    function addToCart(name, price, image) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.push({ name, price, image });
      localStorage.setItem('cart', JSON.stringify(cart));
      alert("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!");
    }

    function loadCart() {
      const container = document.getElementById('cart-items');
      container.innerHTML = '';
      const cart = JSON.parse(localStorage.getItem('cart')) || [];

      if (cart.length === 0) {
        container.innerHTML = "<p class='text-center text-gray-500'>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>";
        return;
      }

      let total = 0;
      cart.forEach((item, index) => {
        total += item.price;
        const div = document.createElement('div');
        div.className = "bg-white p-4 mb-4 rounded-xl shadow text-sm";
        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}" class="w-full rounded mb-2 h-32 object-cover">
          <h3 class="font-semibold">${item.name}</h3>
          <p class="text-green-600 font-bold mb-2">${item.price.toLocaleString()} ‚ÇΩ</p>
          <button onclick="removeItem(${index})" class="text-red-500 underline text-sm">–£–¥–∞–ª–∏—Ç—å</button>
        `;
        container.appendChild(div);
      });

      const totalDiv = document.createElement('div');
      totalDiv.className = "text-right text-base font-bold mt-4 mb-4";
      totalDiv.textContent = `–ò—Ç–æ–≥–æ: ${total.toLocaleString()} ‚ÇΩ`;
      container.appendChild(totalDiv);

      const orderBtn = document.createElement('button');
      orderBtn.textContent = "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑";
      orderBtn.className = "w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition";
      orderBtn.onclick = () => showPage('checkoutPage');
      container.appendChild(orderBtn);
    }

    function removeItem(index) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      loadCart();
    }

    function confirmOrder(method) {
      const message = document.getElementById("orderMessage");
      message.textContent = `–í—ã –≤—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ ${method}. –í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω.`;
      showPage('confirmationPage');
    }

    function clearCartAndReturn() {
      localStorage.removeItem("cart");
      renderProducts();
      showPage("mainPage");
    }

    renderProducts();
  </script>
</body>
</html>
